

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# xsdm

<!-- badges: start -->
<!-- badges: end -->

The goal of xsdm is to model the distribution of species.
The main difference of xsdm from the other species' distribution models (SDMs) is that xsdm incorporate inter-annual climatic variabiliy when estimating the suitability of species.
This is achieved using theory from stochastic demography.

## Installation

You can install the development version of xsdm from GitHub using the `devtools` package:

``` r
devtools::install_github("emilio-berti/xsdm")
```

## Example

This, as the other examples in this vignette ...


```{r example}
library(xsdm)
library(terra)

# fake time serie of first climatic variable
for (i in seq_len(10)) {
  if (i == 1) {
    r <- rast(matrix(rnorm(1e4), 1e2, 1e2))
  } else {
    r <- c(r, rast(matrix(rnorm(1e4), 1e2, 1e2)))
  }
}

# fake time serie of second climatic variable
for (i in seq_len(10)) {
  if (i == 1) {
    s <- rast(matrix(rnorm(1e4), 1e2, 1e2))
  } else {
    s <- c(s, rast(matrix(rnorm(1e4), 1e2, 1e2)))
  }
}

p <- runif(50, 0, 100)
p <- vect(matrix(p, ncol = 2))
p$occ <- sample(c(0, 1), 1e3, replace = TRUE, prob = c(10, 1))
niche <- lewontin_cohen(
  list(r, s), p, 
  warmup = 10, iter = 20, 
  refresh = 5, cores = 4
)

rstan::extract(niche, c("mu"))
summary(niche, c("mu", "sigl", "sigr", "R[1,2]", "c", "pd"))$summary

```

What is special about using `README.Rmd` instead of just `README.md`? You can include R chunks like so:

```{r cars}
summary(cars)
```

You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this.

You can also embed plots, for example:

```{r pressure, echo = FALSE}
plot(pressure)
```

In that case, don't forget to commit and push the resulting figure files, so they display on GitHub and CRAN.
